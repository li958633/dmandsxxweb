import{d as x,r as n,v as p,o as b,c as r,a as o,m as w,x as A,y as P,F as v,b as f,l as T,t as Y,j as E,u as R,g as c}from"./ElseDependent-BGif7w-L.js";import{A as V,P as B,_ as L}from"./index-CfD34EuM.js";const S={class:"archive-view"},q={class:"search-box"},$={class:"tag-filters"},j=["onClick"],D={class:"posts-list"},F=x({__name:"ArchiveView",setup(M){const l=n(""),t=n([]),d=n(V),m=R(),i=n(null),u=n(null);n([]);const _=p(()=>{const a=new Set;return d.value.forEach(s=>{s.tags.forEach(e=>a.add(e))}),Array.from(a)}),h=p(()=>{let a=[...d.value];if(l.value){const s=l.value.toLowerCase();a=a.filter(e=>e.title.toLowerCase().includes(s)||e.excerpt.toLowerCase().includes(s))}return t.value.length>0&&(a=a.filter(s=>t.value.some(e=>s.tags.includes(e)))),a}),y=a=>{t.value.includes(a)?t.value=t.value.filter(s=>s!==a):t.value.push(a)},g=a=>{m.push(`/post?id=${a}`)},C=()=>{i.value&&i.value.animate([{opacity:0,transform:"translateY(-30px)"},{opacity:1,transform:"translateY(0)"}],{duration:800,easing:"ease-out"}),u.value&&u.value.animate([{opacity:0,transform:"translateY(20px)"},{opacity:1,transform:"translateY(0)"}],{duration:800,delay:200,easing:"ease-out"}),setTimeout(()=>{document.querySelectorAll(".post-card").forEach((s,e)=>{s.animate([{opacity:0,transform:"translateY(30px)"},{opacity:1,transform:"translateY(0)"}],{duration:800,delay:e*100,easing:"ease-out"})})},0)};return b(()=>{C()}),(a,s)=>(c(),r("div",S,[o("h1",{class:"main-title",ref_key:"titleRef",ref:i},s[1]||(s[1]=[w('<span class="code" data-v-ce4b66cc>const</span> archive <span class="code" data-v-ce4b66cc>=</span><span class="method" data-v-ce4b66cc>require</span><span class="code" data-v-ce4b66cc>(</span><span class="string" data-v-ce4b66cc>&#39;./all-posts&#39;</span><span class="code" data-v-ce4b66cc>)</span>',7)]),512),o("div",{class:"archive-controls",ref_key:"controlsRef",ref:u},[o("div",q,[s[2]||(s[2]=o("span",{class:"code"},">",-1)),A(o("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>l.value=e),placeholder:"search_posts.js",class:"search-input"},null,512),[[P,l.value]])]),o("div",$,[(c(!0),r(v,null,f(_.value,e=>(c(),r("span",{key:e,class:T(["tag",{active:t.value.includes(e)}]),onClick:k=>y(e)},Y(e),11,j))),128))])],512),o("div",D,[(c(!0),r(v,null,f(h.value,e=>(c(),E(B,{key:e.id,post:e,onClick:k=>g(e.id)},null,8,["post","onClick"]))),128))])]))}}),I=L(F,[["__scopeId","data-v-ce4b66cc"]]);export{I as default};
